"use strict";(self.webpackChunk_devilsdev_rag_pipeline_utils_docs=self.webpackChunk_devilsdev_rag_pipeline_utils_docs||[]).push([[5571],{4908:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Usage","title":"Usage Guide","description":"This comprehensive guide covers how to use @DevilsDev/rag-pipeline-utils programmatically via the JavaScript/TypeScript API and through the command-line interface. Whether you\'re building a simple Q&A system or a complex enterprise RAG application, this guide provides practical examples and best practices.","source":"@site/docs/Usage.md","sourceDirName":".","slug":"/Usage","permalink":"/rag-pipeline-utils/docs/Usage","draft":false,"unlisted":false,"editUrl":"https://github.com/DevilsDev/rag-pipeline-utils/edit/develop/docs-site/docs/Usage.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Real-World Use Cases","permalink":"/rag-pipeline-utils/docs/Use-Cases"},"next":{"title":"CLI Reference","permalink":"/rag-pipeline-utils/docs/CLI"}}');var s=r(4848),o=r(8453);const t={},a="Usage Guide",l={},c=[{value:"\ud83d\udce6 Installation",id:"-installation",level:2},{value:"<strong>NPM Installation</strong>",id:"npm-installation",level:3},{value:"<strong>System Requirements</strong>",id:"system-requirements",level:3},{value:"<strong>Environment Setup</strong>",id:"environment-setup",level:3},{value:"\ud83d\udd27 Programmatic API Usage",id:"-programmatic-api-usage",level:2},{value:"<strong>Basic Pipeline Setup</strong>",id:"basic-pipeline-setup",level:3},{value:"<strong>Advanced Configuration Examples</strong>",id:"advanced-configuration-examples",level:3},{value:"<strong>Multi-Model Setup</strong>",id:"multi-model-setup",level:4},{value:"<strong>Local-First Setup</strong>",id:"local-first-setup",level:4},{value:"\ud83d\udd04 Pipeline Methods &amp; Operations",id:"-pipeline-methods--operations",level:2},{value:"<strong>Document Ingestion</strong>",id:"document-ingestion",level:3},{value:"<strong>Querying &amp; Response Generation</strong>",id:"querying--response-generation",level:3},{value:"<strong>Batch Processing</strong>",id:"batch-processing",level:3},{value:"<strong>Pipeline Management</strong>",id:"pipeline-management",level:3},{value:"\ud83d\udda5\ufe0f Command Line Interface (CLI)",id:"\ufe0f-command-line-interface-cli",level:2},{value:"<strong>Global CLI Installation</strong>",id:"global-cli-installation",level:3},{value:"<strong>Project Initialization</strong>",id:"project-initialization",level:3},{value:"<strong>Configuration Management</strong>",id:"configuration-management",level:3},{value:"<strong>Document Ingestion via CLI</strong>",id:"document-ingestion-via-cli",level:3},{value:"<strong>Querying via CLI</strong>",id:"querying-via-cli",level:3},{value:"<strong>Evaluation and Testing</strong>",id:"evaluation-and-testing",level:3},{value:"<strong>Pipeline Management via CLI</strong>",id:"pipeline-management-via-cli",level:3},{value:"<strong>Plugin Management</strong>",id:"plugin-management",level:3},{value:"\ud83d\udd27 Configuration File (.ragrc.json)",id:"-configuration-file-ragrcjson",level:2},{value:"\ud83d\ude80 Advanced Usage Patterns",id:"-advanced-usage-patterns",level:2},{value:"<strong>Error Handling &amp; Resilience</strong>",id:"error-handling--resilience",level:3},{value:"<strong>Event Monitoring</strong>",id:"event-monitoring",level:3},{value:"<strong>Custom Middleware</strong>",id:"custom-middleware",level:3},{value:"Plugin Configuration",id:"plugin-configuration",level:2},{value:"Configuration via <code>.ragrc.json</code>",id:"configuration-via-ragrcjson",level:2}];function p(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"usage-guide",children:"Usage Guide"})}),"\n",(0,s.jsxs)(n.p,{children:["This comprehensive guide covers how to use ",(0,s.jsx)(n.strong,{children:"@DevilsDev/rag-pipeline-utils"})," programmatically via the JavaScript/TypeScript API and through the command-line interface. Whether you're building a simple Q&A system or a complex enterprise RAG application, this guide provides practical examples and best practices."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-installation",children:"\ud83d\udce6 Installation"}),"\n",(0,s.jsx)(n.h3,{id:"npm-installation",children:(0,s.jsx)(n.strong,{children:"NPM Installation"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install as a project dependency\r\nnpm install @DevilsDev/rag-pipeline-utils\r\n\r\n# Or install globally for CLI usage\r\nnpm install -g @DevilsDev/rag-pipeline-utils\r\n\r\n# Using Yarn\r\nyarn add @DevilsDev/rag-pipeline-utils\r\n\r\n# Using pnpm\r\npnpm add @DevilsDev/rag-pipeline-utils\n"})}),"\n",(0,s.jsx)(n.h3,{id:"system-requirements",children:(0,s.jsx)(n.strong,{children:"System Requirements"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node.js"}),": >= 18.0.0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TypeScript"}),": >= 4.5.0 (for TypeScript projects)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Memory"}),": Minimum 2GB RAM (4GB+ recommended for large documents)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Storage"}),": Varies based on vector store and document size"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"environment-setup",children:(0,s.jsx)(n.strong,{children:"Environment Setup"})}),"\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:".env"})," file in your project root:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# OpenAI Configuration\r\nOPENAI_API_KEY=your_openai_api_key_here\r\nOPENAI_ORG_ID=your_org_id_here\r\n\r\n# Pinecone Configuration\r\nPINCONE_API_KEY=your_pinecone_api_key\r\nPINCONE_ENVIRONMENT=us-west1-gcp\r\nPINCONE_INDEX_NAME=rag-documents\r\n\r\n# Cohere Configuration (optional)\r\nCOHERE_API_KEY=your_cohere_api_key\r\n\r\n# Anthropic Configuration (optional)\r\nANTHROPIC_API_KEY=your_anthropic_api_key\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-programmatic-api-usage",children:"\ud83d\udd27 Programmatic API Usage"}),"\n",(0,s.jsx)(n.h3,{id:"basic-pipeline-setup",children:(0,s.jsx)(n.strong,{children:"Basic Pipeline Setup"})}),"\n",(0,s.jsx)(n.p,{children:"Here's a complete example showing how to create and use a RAG pipeline:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { createRagPipeline, PipelineConfig } from '@DevilsDev/rag-pipeline-utils';\r\nimport dotenv from 'dotenv';\r\n\r\n// Load environment variables\r\ndotenv.config();\r\n\r\n// Define pipeline configuration\r\nconst config: PipelineConfig = {\r\n  loader: 'markdown',\r\n  embedder: 'openai',\r\n  retriever: 'pinecone',\r\n  llm: 'openai-gpt-4',\r\n  useReranker: true,\r\n  \r\n  // Plugin-specific configuration\r\n  config: {\r\n    openai: {\r\n      apiKey: process.env.OPENAI_API_KEY,\r\n      model: 'text-embedding-3-large',\r\n      maxTokens: 4000,\r\n      temperature: 0.1\r\n    },\r\n    pinecone: {\r\n      apiKey: process.env.PINECONE_API_KEY,\r\n      environment: process.env.PINECONE_ENVIRONMENT,\r\n      indexName: process.env.PINECONE_INDEX_NAME,\r\n      topK: 5\r\n    }\r\n  },\r\n  \r\n  // Pipeline-level configuration\r\n  pipelineConfig: {\r\n    chunkSize: 1000,\r\n    chunkOverlap: 200,\r\n    maxConcurrency: 3,\r\n    enableCaching: true\r\n  }\r\n};\r\n\r\n// Create the pipeline\r\nconst pipeline = createRagPipeline(config);\r\n\r\n// Use the pipeline\r\nasync function main() {\r\n  try {\r\n    // Ingest documents\r\n    console.log('Ingesting documents...');\r\n    await pipeline.ingest('./docs/**/*.md');\r\n    \r\n    // Query the pipeline\r\n    console.log('Querying pipeline...');\r\n    const response = await pipeline.query(\r\n      \"How do I implement custom plugins in the RAG pipeline?\"\r\n    );\r\n    \r\n    console.log('Answer:', response.answer);\r\n    console.log('Sources:', response.sources.length);\r\n    console.log('Confidence:', response.confidence);\r\n    \r\n  } catch (error) {\r\n    console.error('Pipeline error:', error);\r\n  } finally {\r\n    // Clean up resources\r\n    await pipeline.destroy();\r\n  }\r\n}\r\n\r\nmain();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"advanced-configuration-examples",children:(0,s.jsx)(n.strong,{children:"Advanced Configuration Examples"})}),"\n",(0,s.jsx)(n.h4,{id:"multi-model-setup",children:(0,s.jsx)(n.strong,{children:"Multi-Model Setup"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Use different models for different purposes\r\nconst advancedConfig: PipelineConfig = {\r\n  loader: 'pdf',\r\n  embedder: 'openai',\r\n  retriever: 'chroma',\r\n  llm: 'anthropic-claude',\r\n  useReranker: true,\r\n  reranker: 'cohere-rerank',\r\n  \r\n  config: {\r\n    openai: {\r\n      apiKey: process.env.OPENAI_API_KEY,\r\n      model: 'text-embedding-3-large'\r\n    },\r\n    anthropic: {\r\n      apiKey: process.env.ANTHROPIC_API_KEY,\r\n      model: 'claude-3-sonnet-20240229',\r\n      maxTokens: 8000\r\n    },\r\n    chroma: {\r\n      host: 'localhost',\r\n      port: 8000,\r\n      collection: 'documents'\r\n    },\r\n    cohere: {\r\n      apiKey: process.env.COHERE_API_KEY,\r\n      model: 'rerank-english-v2.0'\r\n    }\r\n  }\r\n};\n"})}),"\n",(0,s.jsx)(n.h4,{id:"local-first-setup",children:(0,s.jsx)(n.strong,{children:"Local-First Setup"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Use local models for privacy-sensitive applications\r\nconst localConfig: PipelineConfig = {\r\n  loader: 'markdown',\r\n  embedder: 'sentence-transformers',\r\n  retriever: 'chroma',\r\n  llm: 'ollama',\r\n  \r\n  config: {\r\n    sentenceTransformers: {\r\n      model: 'all-MiniLM-L6-v2',\r\n      device: 'cpu'\r\n    },\r\n    ollama: {\r\n      baseUrl: 'http://localhost:11434',\r\n      model: 'llama2:7b',\r\n      temperature: 0.2\r\n    },\r\n    chroma: {\r\n      path: './vector_store',\r\n      collection: 'local_docs'\r\n    }\r\n  }\r\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-pipeline-methods--operations",children:"\ud83d\udd04 Pipeline Methods & Operations"}),"\n",(0,s.jsx)(n.h3,{id:"document-ingestion",children:(0,s.jsx)(n.strong,{children:"Document Ingestion"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Single file ingestion\r\nawait pipeline.ingest('./document.pdf');\r\n\r\n// Multiple files with glob patterns\r\nawait pipeline.ingest('./docs/**/*.{md,txt,pdf}');\r\n\r\n// Batch ingestion with progress tracking\r\nconst files = ['doc1.pdf', 'doc2.md', 'doc3.txt'];\r\nfor (const file of files) {\r\n  console.log(`Processing ${file}...`);\r\n  await pipeline.ingest(file);\r\n}\r\n\r\n// Ingestion with custom options\r\nawait pipeline.ingest('./docs', {\r\n  chunkSize: 1500,\r\n  chunkOverlap: 300,\r\n  metadata: {\r\n    source: 'documentation',\r\n    version: '2.1.8',\r\n    category: 'technical'\r\n  }\r\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"querying--response-generation",children:(0,s.jsx)(n.strong,{children:"Querying & Response Generation"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Basic query\r\nconst response = await pipeline.query(\"What is RAG?\");\r\nconsole.log(response.answer);\r\n\r\n// Query with options\r\nconst detailedResponse = await pipeline.query(\r\n  \"Explain the plugin architecture\",\r\n  {\r\n    maxTokens: 2000,\r\n    temperature: 0.3,\r\n    includeMetadata: true,\r\n    minConfidence: 0.7\r\n  }\r\n);\r\n\r\nconsole.log('Answer:', detailedResponse.answer);\r\nconsole.log('Sources:', detailedResponse.sources);\r\nconsole.log('Metadata:', detailedResponse.metadata);\r\nconsole.log('Processing time:', detailedResponse.processingTime);\r\n\r\n// Streaming responses\r\nconst stream = pipeline.queryStream(\"How do I optimize performance?\");\r\nfor await (const chunk of stream) {\r\n  process.stdout.write(chunk.token);\r\n  \r\n  // Access metadata during streaming\r\n  if (chunk.metadata) {\r\n    console.log('\\nSources found:', chunk.metadata.sources.length);\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"batch-processing",children:(0,s.jsx)(n.strong,{children:"Batch Processing"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Process multiple queries efficiently\r\nconst queries = [\r\n  "What is the plugin system?",\r\n  "How do I configure embeddings?",\r\n  "What are the supported vector stores?"\r\n];\r\n\r\nconst responses = await pipeline.batchQuery(queries, {\r\n  maxConcurrency: 3,\r\n  includeMetadata: true\r\n});\r\n\r\nresponses.forEach((response, index) => {\r\n  console.log(`Query ${index + 1}:`, queries[index]);\r\n  console.log(`Answer:`, response.answer);\r\n  console.log(`Confidence:`, response.confidence);\r\n  console.log(\'---\');\r\n});\n'})}),"\n",(0,s.jsx)(n.h3,{id:"pipeline-management",children:(0,s.jsx)(n.strong,{children:"Pipeline Management"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Get pipeline statistics\r\nconst stats = await pipeline.getStats();\r\nconsole.log('Documents indexed:', stats.documentsCount);\r\nconsole.log('Total chunks:', stats.chunksCount);\r\nconsole.log('Index size:', stats.indexSize);\r\nconsole.log('Last updated:', stats.lastUpdated);\r\n\r\n// Clear the vector store\r\nawait pipeline.clear();\r\n\r\n// Rebuild the index\r\nawait pipeline.rebuild();\r\n\r\n// Export pipeline data\r\nconst exportData = await pipeline.export();\r\nfs.writeFileSync('./pipeline-backup.json', JSON.stringify(exportData));\r\n\r\n// Import pipeline data\r\nconst importData = JSON.parse(fs.readFileSync('./pipeline-backup.json', 'utf8'));\r\nawait pipeline.import(importData);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-command-line-interface-cli",children:"\ud83d\udda5\ufe0f Command Line Interface (CLI)"}),"\n",(0,s.jsx)(n.h3,{id:"global-cli-installation",children:(0,s.jsx)(n.strong,{children:"Global CLI Installation"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install globally\r\nnpm install -g @DevilsDev/rag-pipeline-utils\r\n\r\n# Verify installation\r\nrag-pipeline --version\r\nrag-pipeline --help\n"})}),"\n",(0,s.jsx)(n.h3,{id:"project-initialization",children:(0,s.jsx)(n.strong,{children:"Project Initialization"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Create a new RAG project\r\nrag-pipeline init my-rag-project\r\ncd my-rag-project\r\n\r\n# Initialize in existing directory\r\nrag-pipeline init .\r\n\r\n# Initialize with template\r\nrag-pipeline init my-project --template enterprise\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-management",children:(0,s.jsx)(n.strong,{children:"Configuration Management"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Create default configuration\r\nrag-pipeline config init\r\n\r\n# Set configuration values\r\nrag-pipeline config set openai.apiKey sk-your-key-here\r\nrag-pipeline config set pinecone.environment us-west1-gcp\r\n\r\n# View current configuration\r\nrag-pipeline config show\r\n\r\n# Validate configuration\r\nrag-pipeline config validate\n"})}),"\n",(0,s.jsx)(n.h3,{id:"document-ingestion-via-cli",children:(0,s.jsx)(n.strong,{children:"Document Ingestion via CLI"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Ingest single file\r\nrag-pipeline ingest ./document.pdf --loader pdf\r\n\r\n# Ingest directory with specific loader\r\nrag-pipeline ingest ./docs --loader markdown --recursive\r\n\r\n# Ingest with custom settings\r\nrag-pipeline ingest ./docs \\\r\n  --loader markdown \\\r\n  --embedder openai \\\r\n  --chunk-size 1500 \\\r\n  --chunk-overlap 300\r\n\r\n# Batch ingest with progress\r\nrag-pipeline ingest ./large-docs \\\r\n  --loader pdf \\\r\n  --batch-size 10 \\\r\n  --progress\n"})}),"\n",(0,s.jsx)(n.h3,{id:"querying-via-cli",children:(0,s.jsx)(n.strong,{children:"Querying via CLI"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Simple query\r\nrag-pipeline query "What is the plugin architecture?"\r\n\r\n# Query with specific LLM\r\nrag-pipeline query "Explain embeddings" --llm openai-gpt-4\r\n\r\n# Query with options\r\nrag-pipeline query "How to optimize performance?" \\\r\n  --max-tokens 2000 \\\r\n  --temperature 0.3 \\\r\n  --include-sources\r\n\r\n# Interactive query mode\r\nrag-pipeline query --interactive\n'})}),"\n",(0,s.jsx)(n.h3,{id:"evaluation-and-testing",children:(0,s.jsx)(n.strong,{children:"Evaluation and Testing"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Run evaluation on test set\r\nrag-pipeline evaluate ./test-queries.json --output results.csv\r\n\r\n# Evaluate with specific metrics\r\nrag-pipeline evaluate ./queries.json \\\r\n  --metrics bleu,rouge,bertscore \\\r\n  --output detailed-results.json\r\n\r\n# Start evaluation dashboard\r\nrag-pipeline dashboard --port 3000 --host 0.0.0.0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pipeline-management-via-cli",children:(0,s.jsx)(n.strong,{children:"Pipeline Management via CLI"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# View pipeline status\r\nrag-pipeline status\r\n\r\n# Clear vector store\r\nrag-pipeline clear --confirm\r\n\r\n# Rebuild index\r\nrag-pipeline rebuild --force\r\n\r\n# Export pipeline data\r\nrag-pipeline export --output backup.json\r\n\r\n# Import pipeline data\r\nrag-pipeline import backup.json\n"})}),"\n",(0,s.jsx)(n.h3,{id:"plugin-management",children:(0,s.jsx)(n.strong,{children:"Plugin Management"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# List available plugins\r\nrag-pipeline plugins list\r\n\r\n# Install custom plugin\r\nrag-pipeline plugins install ./my-custom-plugin\r\n\r\n# Create plugin template\r\nrag-pipeline plugins create my-loader --type loader\r\n\r\n# Validate plugin\r\nrag-pipeline plugins validate ./my-plugin\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-configuration-file-ragrcjson",children:"\ud83d\udd27 Configuration File (.ragrc.json)"}),"\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:".ragrc.json"})," file in your project root for persistent configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "version": "2.1.8",\r\n  "pipeline": {\r\n    "loader": "markdown",\r\n    "embedder": "openai",\r\n    "retriever": "pinecone",\r\n    "llm": "openai-gpt-4",\r\n    "useReranker": true,\r\n    "reranker": "cohere-rerank"\r\n  },\r\n  "config": {\r\n    "openai": {\r\n      "model": "text-embedding-3-large",\r\n      "maxTokens": 4000,\r\n      "temperature": 0.1\r\n    },\r\n    "pinecone": {\r\n      "environment": "us-west1-gcp",\r\n      "indexName": "rag-documents",\r\n      "topK": 5\r\n    }\r\n  },\r\n  "pipelineConfig": {\r\n    "chunkSize": 1000,\r\n    "chunkOverlap": 200,\r\n    "maxConcurrency": 3,\r\n    "enableCaching": true\r\n  },\r\n  "logging": {\r\n    "level": "info",\r\n    "format": "json",\r\n    "outputs": ["console", "file"]\r\n  },\r\n  "plugins": {\r\n    "custom": [\r\n      "./plugins/my-custom-loader.js",\r\n      "@company/rag-plugin-suite"\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-advanced-usage-patterns",children:"\ud83d\ude80 Advanced Usage Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"error-handling--resilience",children:(0,s.jsx)(n.strong,{children:"Error Handling & Resilience"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { RagError, PluginError, ConfigurationError } from '@DevilsDev/rag-pipeline-utils';\r\n\r\ntry {\r\n  const response = await pipeline.query(\"Complex query\");\r\n} catch (error) {\r\n  if (error instanceof PluginError) {\r\n    console.error('Plugin error:', error.pluginName, error.message);\r\n    // Handle plugin-specific errors\r\n  } else if (error instanceof ConfigurationError) {\r\n    console.error('Configuration error:', error.message);\r\n    // Handle configuration issues\r\n  } else if (error instanceof RagError) {\r\n    console.error('RAG pipeline error:', error.message);\r\n    // Handle general pipeline errors\r\n  } else {\r\n    console.error('Unexpected error:', error);\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"event-monitoring",children:(0,s.jsx)(n.strong,{children:"Event Monitoring"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Listen to pipeline events\r\npipeline.on('document:loaded', (event) => {\r\n  console.log(`Loaded ${event.chunks} chunks from ${event.source}`);\r\n});\r\n\r\npipeline.on('embedding:completed', (event) => {\r\n  console.log(`Generated ${event.embeddings} embeddings in ${event.duration}ms`);\r\n});\r\n\r\npipeline.on('generation:token', (event) => {\r\n  process.stdout.write(event.token);\r\n});\r\n\r\npipeline.on('error:handled', (event) => {\r\n  console.warn(`Handled error in ${event.context}:`, event.error.message);\r\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"custom-middleware",children:(0,s.jsx)(n.strong,{children:"Custom Middleware"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { Middleware } from '@DevilsDev/rag-pipeline-utils';\r\n\r\n// Create custom logging middleware\r\nclass CustomLoggingMiddleware implements Middleware {\r\n  name = 'custom-logger';\r\n  priority = 100;\r\n  \r\n  async beforeQuery(context: QueryContext): Promise<QueryContext> {\r\n    console.log(`[${new Date().toISOString()}] Query started: ${context.query}`);\r\n    context.startTime = Date.now();\r\n    return context;\r\n  }\r\n  \r\n  async afterQuery(context: QueryContext, result: QueryResult): Promise<QueryResult> {\r\n    const duration = Date.now() - context.startTime;\r\n    console.log(`[${new Date().toISOString()}] Query completed in ${duration}ms`);\r\n    return result;\r\n  }\r\n}\r\n\r\n// Add middleware to pipeline\r\nconst config: PipelineConfig = {\r\n  // ... other config\r\n  middleware: [\r\n    new CustomLoggingMiddleware(),\r\n    // ... other middleware\r\n  ]\r\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.em,{children:["This comprehensive usage guide covers the most common patterns and advanced features of @DevilsDev/rag-pipeline-utils. For more specific use cases, check out our ",(0,s.jsx)(n.a,{href:"/rag-pipeline-utils/docs/Tutorials",children:"Tutorials"})," section, or explore the ",(0,s.jsx)(n.a,{href:"/rag-pipeline-utils/docs/CLI",children:"CLI Reference"})," for detailed command documentation."]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"plugin-configuration",children:"Plugin Configuration"}),"\n",(0,s.jsx)(n.p,{children:"You can customize the pipeline by registering plugins:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"registry.register('loader', 'custom', new MyCustomLoader());\r\nregistry.register('retriever', 'opensearch', new MyOpenSearchRetriever());\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"configuration-via-ragrcjson",children:["Configuration via ",(0,s.jsx)(n.code,{children:".ragrc.json"})]}),"\n",(0,s.jsx)(n.p,{children:"Create a JSON file at your root:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "loader": "directory",\r\n  "embedder": "openai",\r\n  "retriever": "pinecone",\r\n  "llm": "openai-gpt-4",\r\n  "useReranker": true\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Used automatically when no CLI args are passed."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Next \u2192 ",(0,s.jsx)(n.a,{href:"/rag-pipeline-utils/docs/CLI",children:"CLI"})]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var i=r(6540);const s={},o=i.createContext(s);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);