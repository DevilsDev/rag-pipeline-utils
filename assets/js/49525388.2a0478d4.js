"use strict";(self.webpackChunk_devilsdev_rag_pipeline_utils=self.webpackChunk_devilsdev_rag_pipeline_utils||[]).push([[7735],{3755:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var i=r(2610);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},8059:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Architecture","title":"Architecture","description":"This page outlines the internal architecture of the RAG pipeline utilities, emphasizing modularity, plugin design, and SOLID-compliant structure.","source":"@site/docs/Architecture.md","sourceDirName":".","slug":"/Architecture","permalink":"/rag-pipeline-utils/docs/Architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/DevilsDev/rag-pipeline-utils/edit/main/docs-site/docs/Architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/rag-pipeline-utils/docs/Introduction"},"next":{"title":"Tutorials","permalink":"/rag-pipeline-utils/docs/Tutorials"}}');var t=r(6394),s=r(3755);const l={},o="Architecture",c={},d=[{value:"Core Design Philosophy",id:"core-design-philosophy",level:2},{value:"Layered Components",id:"layered-components",level:2},{value:"Core Interfaces",id:"core-interfaces",level:2},{value:"DAG Support",id:"dag-support",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,t.jsx)(n.p,{children:"This page outlines the internal architecture of the RAG pipeline utilities, emphasizing modularity, plugin design, and SOLID-compliant structure."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"core-design-philosophy",children:"Core Design Philosophy"}),"\n",(0,t.jsx)(n.p,{children:"The architecture adheres to enterprise-grade practices:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Single Responsibility"}),": Each component handles one domain concern"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pluggable Interfaces"}),": Any layer (loader, retriever, LLM) can be swapped"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Streaming-Ready"}),": Async flows support token-based output"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Environment-Safe"}),": Config via ",(0,t.jsx)(n.code,{children:".ragrc.json"}),", not hardcoded"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Testable"}),": All modules can be mocked and unit tested"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"layered-components",children:"Layered Components"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"+-------------------------+\r\n| createRagPipeline()     |\r\n+-------------------------+\r\n        |     |     |\r\n        \u25bc     \u25bc     \u25bc\r\n  Loader   Embedder  Retriever\r\n     \u25bc        |         \u25bc\r\n  Chunks   Embeddings  Context\r\n        \\     |     /\r\n         \u25bc    \u25bc    \u25bc\r\n           LLM Runner\r\n             |\r\n           Output\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"core-interfaces",children:"Core Interfaces"}),"\n",(0,t.jsxs)(n.p,{children:["Each plugin is registered via the ",(0,t.jsx)(n.code,{children:"PluginRegistry"})," and looked up by key."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"registry.register('loader', 'pdf', new PDFLoader())\r\nconst loader = registry.get('loader', 'pdf');\n"})}),"\n",(0,t.jsx)(n.p,{children:"All plugins implement interface contracts like:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Loader {\r\n  load(path: string): Promise<{ chunk(): string[] }[]>;\r\n}\r\n\r\ninterface Embedder {\r\n  embed(chunks: string[]): Vector[];\r\n  embedQuery(prompt: string): Vector;\r\n}\r\n\r\ninterface Retriever {\r\n  store(vectors: Vector[]): Promise<void>;\r\n  retrieve(query: Vector): Promise<Context[]>;\r\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"dag-support",children:"DAG Support"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"dag-engine.js"})," module supports chaining multiple components:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Example: Summarize \u2192 Retrieve \u2192 Rerank \u2192 LLM"}),"\n",(0,t.jsx)(n.li,{children:"Enables more complex workflows than linear ingestion/query"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["Next \u2192 ",(0,t.jsx)(n.a,{href:"/rag-pipeline-utils/docs/Evaluation",children:"Evaluation"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);