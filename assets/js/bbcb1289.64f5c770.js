"use strict";(self.webpackChunk_devilsdev_rag_pipeline_utils_docs=self.webpackChunk_devilsdev_rag_pipeline_utils_docs||[]).push([[5864],{7661:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Observability","title":"Observability & Monitoring","description":"Comprehensive observability is essential for production RAG systems. @DevilsDev/rag-pipeline-utils provides built-in monitoring, logging, tracing, and alerting capabilities designed for enterprise environments.","source":"@site/docs/Observability.md","sourceDirName":".","slug":"/Observability","permalink":"/rag-pipeline-utils/docs/Observability","draft":false,"unlisted":false,"editUrl":"https://github.com/DevilsDev/rag-pipeline-utils/edit/develop/docs-site/docs/Observability.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Enterprise Features","permalink":"/rag-pipeline-utils/docs/Enterprise"},"next":{"title":"Security Guide","permalink":"/rag-pipeline-utils/docs/Security"}}');var i=n(4848),s=n(8453);const a={},o="Observability & Monitoring",l={},c=[{value:"\ud83d\udcca Monitoring Architecture",id:"-monitoring-architecture",level:2},{value:"<strong>Multi-Layer Observability Stack</strong>",id:"multi-layer-observability-stack",level:3},{value:"\ud83d\udd0d Structured Logging",id:"-structured-logging",level:2},{value:"<strong>Logger Configuration</strong>",id:"logger-configuration",level:3},{value:"<strong>Contextual Logging</strong>",id:"contextual-logging",level:3},{value:"<strong>Security &amp; Compliance Logging</strong>",id:"security--compliance-logging",level:3},{value:"\ud83d\udcc8 Metrics Collection",id:"-metrics-collection",level:2},{value:"<strong>Performance Metrics</strong>",id:"performance-metrics",level:3},{value:"<strong>Business Metrics</strong>",id:"business-metrics",level:3},{value:"\ud83d\udd17 Distributed Tracing",id:"-distributed-tracing",level:2},{value:"<strong>Trace Configuration</strong>",id:"trace-configuration",level:3},{value:"<strong>Pipeline Tracing</strong>",id:"pipeline-tracing",level:3},{value:"<strong>Cross-Service Tracing</strong>",id:"cross-service-tracing",level:3},{value:"\ud83d\udea8 Alerting &amp; Incident Response",id:"-alerting--incident-response",level:2},{value:"<strong>Alert Configuration</strong>",id:"alert-configuration",level:3},{value:"<strong>Automated Incident Response</strong>",id:"automated-incident-response",level:3},{value:"\ud83d\udcca Grafana Dashboards",id:"-grafana-dashboards",level:2},{value:"<strong>Operational Dashboard</strong>",id:"operational-dashboard",level:3},{value:"<strong>Business Metrics Dashboard</strong>",id:"business-metrics-dashboard",level:3},{value:"\ud83d\udd27 Health Checks &amp; Readiness Probes",id:"-health-checks--readiness-probes",level:2},{value:"<strong>Health Check Implementation</strong>",id:"health-check-implementation",level:3}];function d(r){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...r.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"observability--monitoring",children:"Observability & Monitoring"})}),"\n",(0,i.jsx)(e.p,{children:"Comprehensive observability is essential for production RAG systems. @DevilsDev/rag-pipeline-utils provides built-in monitoring, logging, tracing, and alerting capabilities designed for enterprise environments."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-monitoring-architecture",children:"\ud83d\udcca Monitoring Architecture"}),"\n",(0,i.jsx)(e.h3,{id:"multi-layer-observability-stack",children:(0,i.jsx)(e.strong,{children:"Multi-Layer Observability Stack"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-mermaid",children:'graph TB\r\n    subgraph "Application Layer"\r\n        RAG[RAG Pipeline]\r\n        Plugins[Plugins]\r\n        CLI[CLI Tools]\r\n    end\r\n    \r\n    subgraph "Observability Layer"\r\n        Logger[Structured Logger]\r\n        Metrics[Metrics Collector]\r\n        Tracer[Distributed Tracer]\r\n        SLO[SLO Monitor]\r\n    end\r\n    \r\n    subgraph "Storage & Analytics"\r\n        Prometheus[Prometheus]\r\n        Elasticsearch[Elasticsearch]\r\n        Jaeger[Jaeger]\r\n        Grafana[Grafana]\r\n    end\r\n    \r\n    subgraph "Alerting"\r\n        AlertManager[Alert Manager]\r\n        PagerDuty[PagerDuty]\r\n        Slack[Slack]\r\n    end\r\n    \r\n    RAG --\x3e Logger\r\n    RAG --\x3e Metrics\r\n    RAG --\x3e Tracer\r\n    RAG --\x3e SLO\r\n    \r\n    Plugins --\x3e Logger\r\n    Plugins --\x3e Metrics\r\n    CLI --\x3e Logger\r\n    \r\n    Logger --\x3e Elasticsearch\r\n    Metrics --\x3e Prometheus\r\n    Tracer --\x3e Jaeger\r\n    SLO --\x3e Prometheus\r\n    \r\n    Prometheus --\x3e Grafana\r\n    Elasticsearch --\x3e Grafana\r\n    Jaeger --\x3e Grafana\r\n    \r\n    Prometheus --\x3e AlertManager\r\n    AlertManager --\x3e PagerDuty\r\n    AlertManager --\x3e Slack\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-structured-logging",children:"\ud83d\udd0d Structured Logging"}),"\n",(0,i.jsx)(e.h3,{id:"logger-configuration",children:(0,i.jsx)(e.strong,{children:"Logger Configuration"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { StructuredLogger } from '@DevilsDev/rag-pipeline-utils/observability';\r\n\r\nconst logger = new StructuredLogger({\r\n  level: 'info',\r\n  format: 'json',\r\n  correlationId: true,\r\n  sanitization: {\r\n    enabled: true,\r\n    patterns: ['password', 'apiKey', 'token']\r\n  },\r\n  outputs: [\r\n    {\r\n      type: 'console',\r\n      level: 'debug'\r\n    },\r\n    {\r\n      type: 'file',\r\n      path: '/var/log/rag-pipeline/app.log',\r\n      level: 'info',\r\n      rotation: {\r\n        maxSize: '100MB',\r\n        maxFiles: 10\r\n      }\r\n    },\r\n    {\r\n      type: 'elasticsearch',\r\n      host: 'elasticsearch.monitoring.svc.cluster.local',\r\n      index: 'rag-pipeline-logs',\r\n      level: 'warn'\r\n    }\r\n  ]\r\n});\n"})}),"\n",(0,i.jsx)(e.h3,{id:"contextual-logging",children:(0,i.jsx)(e.strong,{children:"Contextual Logging"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// Request-scoped logging with correlation IDs\r\napp.use((req, res, next) => {\r\n  req.correlationId = generateCorrelationId();\r\n  req.logger = logger.child({ \r\n    correlationId: req.correlationId,\r\n    requestId: req.id,\r\n    userId: req.user?.id \r\n  });\r\n  next();\r\n});\r\n\r\n// Pipeline operation logging\r\nclass RagPipeline {\r\n  async query(prompt, options = {}) {\r\n    const operationId = generateOperationId();\r\n    const startTime = Date.now();\r\n    \r\n    this.logger.info('query.started', {\r\n      operationId,\r\n      prompt: sanitizePrompt(prompt),\r\n      options: sanitizeOptions(options),\r\n      timestamp: new Date().toISOString()\r\n    });\r\n    \r\n    try {\r\n      // Execute query\r\n      const result = await this.executeQuery(prompt, options);\r\n      \r\n      this.logger.info('query.completed', {\r\n        operationId,\r\n        duration: Date.now() - startTime,\r\n        resultCount: result.sources?.length || 0,\r\n        confidence: result.confidence,\r\n        tokensUsed: result.usage?.totalTokens\r\n      });\r\n      \r\n      return result;\r\n    } catch (error) {\r\n      this.logger.error('query.failed', {\r\n        operationId,\r\n        duration: Date.now() - startTime,\r\n        error: {\r\n          name: error.name,\r\n          message: error.message,\r\n          stack: error.stack,\r\n          code: error.code\r\n        }\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"security--compliance-logging",children:(0,i.jsx)(e.strong,{children:"Security & Compliance Logging"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// Audit logging for security events\r\nconst auditLogger = logger.child({ \r\n  component: 'security',\r\n  audit: true \r\n});\r\n\r\n// Authentication events\r\nauditLogger.info('auth.login', {\r\n  userId: user.id,\r\n  method: 'oauth2',\r\n  provider: 'azure-ad',\r\n  sourceIp: req.ip,\r\n  userAgent: req.get('User-Agent'),\r\n  success: true\r\n});\r\n\r\n// Data access events\r\nauditLogger.info('data.access', {\r\n  userId: user.id,\r\n  resource: 'document',\r\n  resourceId: doc.id,\r\n  action: 'read',\r\n  classification: doc.classification,\r\n  authorized: true\r\n});\r\n\r\n// Configuration changes\r\nauditLogger.warn('config.changed', {\r\n  userId: admin.id,\r\n  component: 'pipeline',\r\n  changes: {\r\n    'embedder.model': { from: 'text-embedding-ada-002', to: 'text-embedding-3-large' },\r\n    'retriever.topK': { from: 5, to: 10 }\r\n  }\r\n});\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-metrics-collection",children:"\ud83d\udcc8 Metrics Collection"}),"\n",(0,i.jsx)(e.h3,{id:"performance-metrics",children:(0,i.jsx)(e.strong,{children:"Performance Metrics"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { MetricsCollector } from '@DevilsDev/rag-pipeline-utils/observability';\r\n\r\nconst metrics = new MetricsCollector({\r\n  prefix: 'rag_pipeline',\r\n  labels: {\r\n    service: 'rag-api',\r\n    version: process.env.APP_VERSION,\r\n    environment: process.env.NODE_ENV\r\n  },\r\n  exporters: [\r\n    {\r\n      type: 'prometheus',\r\n      port: 9090,\r\n      path: '/metrics'\r\n    },\r\n    {\r\n      type: 'statsd',\r\n      host: 'statsd.monitoring.svc.cluster.local',\r\n      port: 8125\r\n    }\r\n  ]\r\n});\r\n\r\n// Request metrics\r\nconst requestDuration = metrics.histogram('request_duration_seconds', {\r\n  help: 'Request duration in seconds',\r\n  buckets: [0.1, 0.5, 1, 2, 5, 10]\r\n});\r\n\r\nconst requestCount = metrics.counter('requests_total', {\r\n  help: 'Total number of requests',\r\n  labelNames: ['method', 'endpoint', 'status']\r\n});\r\n\r\n// Pipeline-specific metrics\r\nconst embeddingDuration = metrics.histogram('embedding_duration_seconds', {\r\n  help: 'Embedding generation duration',\r\n  buckets: [0.1, 0.5, 1, 2, 5],\r\n  labelNames: ['provider', 'model']\r\n});\r\n\r\nconst retrievalAccuracy = metrics.gauge('retrieval_accuracy', {\r\n  help: 'Retrieval accuracy score',\r\n  labelNames: ['retriever', 'query_type']\r\n});\r\n\r\nconst tokenUsage = metrics.counter('tokens_used_total', {\r\n  help: 'Total tokens consumed',\r\n  labelNames: ['provider', 'model', 'operation']\r\n});\n"})}),"\n",(0,i.jsx)(e.h3,{id:"business-metrics",children:(0,i.jsx)(e.strong,{children:"Business Metrics"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// User engagement metrics\r\nconst queryCount = metrics.counter('queries_total', {\r\n  help: 'Total queries processed',\r\n  labelNames: ['user_type', 'domain']\r\n});\r\n\r\nconst userSatisfaction = metrics.histogram('user_satisfaction_score', {\r\n  help: 'User satisfaction ratings',\r\n  buckets: [1, 2, 3, 4, 5]\r\n});\r\n\r\n// Cost tracking\r\nconst apiCosts = metrics.counter('api_costs_usd', {\r\n  help: 'API costs in USD',\r\n  labelNames: ['provider', 'service']\r\n});\r\n\r\n// Data quality metrics\r\nconst documentFreshness = metrics.gauge('document_freshness_hours', {\r\n  help: 'Age of documents in hours',\r\n  labelNames: ['source', 'category']\r\n});\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-distributed-tracing",children:"\ud83d\udd17 Distributed Tracing"}),"\n",(0,i.jsx)(e.h3,{id:"trace-configuration",children:(0,i.jsx)(e.strong,{children:"Trace Configuration"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { DistributedTracer } from '@DevilsDev/rag-pipeline-utils/observability';\r\n\r\nconst tracer = new DistributedTracer({\r\n  serviceName: 'rag-pipeline',\r\n  version: process.env.APP_VERSION,\r\n  environment: process.env.NODE_ENV,\r\n  exporters: [\r\n    {\r\n      type: 'jaeger',\r\n      endpoint: 'http://jaeger-collector.monitoring.svc.cluster.local:14268/api/traces'\r\n    },\r\n    {\r\n      type: 'zipkin',\r\n      endpoint: 'http://zipkin.monitoring.svc.cluster.local:9411/api/v2/spans'\r\n    }\r\n  ],\r\n  sampling: {\r\n    type: 'probabilistic',\r\n    rate: 0.1 // 10% sampling rate\r\n  }\r\n});\n"})}),"\n",(0,i.jsx)(e.h3,{id:"pipeline-tracing",children:(0,i.jsx)(e.strong,{children:"Pipeline Tracing"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"class RagPipeline {\r\n  async query(prompt, options = {}) {\r\n    const span = tracer.startSpan('rag.query', {\r\n      tags: {\r\n        'query.length': prompt.length,\r\n        'query.type': options.type || 'general',\r\n        'user.id': options.userId\r\n      }\r\n    });\r\n    \r\n    try {\r\n      // Trace embedding generation\r\n      const embeddingSpan = tracer.startSpan('rag.embed', { parent: span });\r\n      const queryEmbedding = await this.embedder.embed(prompt);\r\n      embeddingSpan.setTag('embedding.dimensions', queryEmbedding.length);\r\n      embeddingSpan.finish();\r\n      \r\n      // Trace retrieval\r\n      const retrievalSpan = tracer.startSpan('rag.retrieve', { parent: span });\r\n      const context = await this.retriever.search(queryEmbedding, options);\r\n      retrievalSpan.setTag('retrieval.results', context.length);\r\n      retrievalSpan.setTag('retrieval.topK', options.topK || 5);\r\n      retrievalSpan.finish();\r\n      \r\n      // Trace LLM generation\r\n      const generationSpan = tracer.startSpan('rag.generate', { parent: span });\r\n      const response = await this.llm.generate(prompt, context);\r\n      generationSpan.setTag('generation.tokens', response.usage.totalTokens);\r\n      generationSpan.setTag('generation.model', this.llm.model);\r\n      generationSpan.finish();\r\n      \r\n      span.setTag('query.success', true);\r\n      return response;\r\n    } catch (error) {\r\n      span.setTag('query.success', false);\r\n      span.setTag('error.name', error.name);\r\n      span.setTag('error.message', error.message);\r\n      throw error;\r\n    } finally {\r\n      span.finish();\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"cross-service-tracing",children:(0,i.jsx)(e.strong,{children:"Cross-Service Tracing"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// Propagate trace context across service boundaries\r\napp.use((req, res, next) => {\r\n  const traceContext = tracer.extract(req.headers);\r\n  req.traceContext = traceContext;\r\n  next();\r\n});\r\n\r\n// External API calls with trace propagation\r\nclass OpenAIEmbedder {\r\n  async embed(texts) {\r\n    const span = tracer.startSpan('openai.embed', {\r\n      parent: this.traceContext\r\n    });\r\n    \r\n    const headers = {};\r\n    tracer.inject(span, headers);\r\n    \r\n    try {\r\n      const response = await fetch('https://api.openai.com/v1/embeddings', {\r\n        method: 'POST',\r\n        headers: {\r\n          ...headers,\r\n          'Authorization': `Bearer ${this.apiKey}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          input: texts,\r\n          model: this.model\r\n        })\r\n      });\r\n      \r\n      span.setTag('openai.model', this.model);\r\n      span.setTag('openai.tokens', response.usage.total_tokens);\r\n      span.setTag('http.status_code', response.status);\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      span.setTag('error', true);\r\n      span.log({ error: error.message });\r\n      throw error;\r\n    } finally {\r\n      span.finish();\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-alerting--incident-response",children:"\ud83d\udea8 Alerting & Incident Response"}),"\n",(0,i.jsx)(e.h3,{id:"alert-configuration",children:(0,i.jsx)(e.strong,{children:"Alert Configuration"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { AlertManager } from '@DevilsDev/rag-pipeline-utils/observability';\r\n\r\nconst alertManager = new AlertManager({\r\n  channels: [\r\n    {\r\n      name: 'slack-critical',\r\n      type: 'slack',\r\n      webhook: process.env.SLACK_WEBHOOK_CRITICAL,\r\n      severity: ['critical', 'high']\r\n    },\r\n    {\r\n      name: 'pagerduty',\r\n      type: 'pagerduty',\r\n      integrationKey: process.env.PAGERDUTY_INTEGRATION_KEY,\r\n      severity: ['critical']\r\n    },\r\n    {\r\n      name: 'email-team',\r\n      type: 'email',\r\n      recipients: ['engineering@company.com'],\r\n      severity: ['high', 'medium']\r\n    }\r\n  ]\r\n});\r\n\r\n// Define alert rules\r\nalertManager.defineAlert('high-error-rate', {\r\n  condition: 'rate(http_requests_total{status=~\"5..\"}[5m]) > 0.05',\r\n  duration: '2m',\r\n  severity: 'high',\r\n  summary: 'High error rate detected',\r\n  description: 'Error rate is above 5% for 2 minutes',\r\n  runbook: 'https://wiki.company.com/runbooks/high-error-rate'\r\n});\r\n\r\nalertManager.defineAlert('embedding-latency', {\r\n  condition: 'histogram_quantile(0.95, rate(embedding_duration_seconds_bucket[5m])) > 2',\r\n  duration: '5m',\r\n  severity: 'medium',\r\n  summary: 'High embedding latency',\r\n  description: '95th percentile embedding latency is above 2 seconds'\r\n});\r\n\r\nalertManager.defineAlert('api-quota-exhausted', {\r\n  condition: 'openai_quota_remaining < 0.1',\r\n  duration: '1m',\r\n  severity: 'critical',\r\n  summary: 'OpenAI API quota nearly exhausted',\r\n  description: 'Less than 10% of OpenAI quota remaining'\r\n});\n"})}),"\n",(0,i.jsx)(e.h3,{id:"automated-incident-response",children:(0,i.jsx)(e.strong,{children:"Automated Incident Response"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// Incident response automation\r\nalertManager.on('alert:triggered', async (alert) => {\r\n  if (alert.severity === 'critical') {\r\n    // Auto-scale resources\r\n    await scaleResources({\r\n      service: 'rag-pipeline',\r\n      replicas: Math.min(currentReplicas * 2, maxReplicas)\r\n    });\r\n    \r\n    // Enable circuit breaker\r\n    await enableCircuitBreaker('external-apis');\r\n    \r\n    // Switch to backup providers\r\n    if (alert.name === 'api-quota-exhausted') {\r\n      await switchToBackupProvider('embedder');\r\n    }\r\n  }\r\n  \r\n  // Create incident ticket\r\n  const incident = await createIncident({\r\n    title: alert.summary,\r\n    description: alert.description,\r\n    severity: alert.severity,\r\n    assignee: getOnCallEngineer(),\r\n    labels: ['rag-pipeline', 'production']\r\n  });\r\n  \r\n  // Update alert with incident link\r\n  alert.incidentId = incident.id;\r\n});\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-grafana-dashboards",children:"\ud83d\udcca Grafana Dashboards"}),"\n",(0,i.jsx)(e.h3,{id:"operational-dashboard",children:(0,i.jsx)(e.strong,{children:"Operational Dashboard"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\r\n  "dashboard": {\r\n    "title": "RAG Pipeline Operations",\r\n    "panels": [\r\n      {\r\n        "title": "Request Rate",\r\n        "type": "stat",\r\n        "targets": [\r\n          {\r\n            "expr": "sum(rate(rag_pipeline_requests_total[5m]))",\r\n            "legendFormat": "Requests/sec"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        "title": "Response Time",\r\n        "type": "timeseries",\r\n        "targets": [\r\n          {\r\n            "expr": "histogram_quantile(0.50, rate(rag_pipeline_request_duration_seconds_bucket[5m]))",\r\n            "legendFormat": "p50"\r\n          },\r\n          {\r\n            "expr": "histogram_quantile(0.95, rate(rag_pipeline_request_duration_seconds_bucket[5m]))",\r\n            "legendFormat": "p95"\r\n          },\r\n          {\r\n            "expr": "histogram_quantile(0.99, rate(rag_pipeline_request_duration_seconds_bucket[5m]))",\r\n            "legendFormat": "p99"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        "title": "Error Rate",\r\n        "type": "timeseries",\r\n        "targets": [\r\n          {\r\n            "expr": "sum(rate(rag_pipeline_requests_total{status=~\\"5..\\"}[5m])) / sum(rate(rag_pipeline_requests_total[5m]))",\r\n            "legendFormat": "Error Rate"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        "title": "SLO Status",\r\n        "type": "table",\r\n        "targets": [\r\n          {\r\n            "expr": "slo_error_budget_remaining",\r\n            "format": "table"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"business-metrics-dashboard",children:(0,i.jsx)(e.strong,{children:"Business Metrics Dashboard"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\r\n  "dashboard": {\r\n    "title": "RAG Pipeline Business Metrics",\r\n    "panels": [\r\n      {\r\n        "title": "Daily Active Users",\r\n        "type": "stat",\r\n        "targets": [\r\n          {\r\n            "expr": "count(count by (user_id) (rag_pipeline_queries_total[24h]))",\r\n            "legendFormat": "DAU"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        "title": "Query Volume by Domain",\r\n        "type": "piechart",\r\n        "targets": [\r\n          {\r\n            "expr": "sum by (domain) (rate(rag_pipeline_queries_total[24h]))",\r\n            "legendFormat": "{{domain}}"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        "title": "API Costs",\r\n        "type": "timeseries",\r\n        "targets": [\r\n          {\r\n            "expr": "sum by (provider) (rate(rag_pipeline_api_costs_usd[1h]))",\r\n            "legendFormat": "{{provider}}"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        "title": "User Satisfaction",\r\n        "type": "gauge",\r\n        "targets": [\r\n          {\r\n            "expr": "avg(rag_pipeline_user_satisfaction_score)",\r\n            "legendFormat": "Average Rating"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-health-checks--readiness-probes",children:"\ud83d\udd27 Health Checks & Readiness Probes"}),"\n",(0,i.jsx)(e.h3,{id:"health-check-implementation",children:(0,i.jsx)(e.strong,{children:"Health Check Implementation"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { HealthChecker } from '@DevilsDev/rag-pipeline-utils/observability';\r\n\r\nconst healthChecker = new HealthChecker({\r\n  checks: [\r\n    {\r\n      name: 'database',\r\n      check: async () => {\r\n        const result = await db.ping();\r\n        return { status: 'healthy', latency: result.latency };\r\n      },\r\n      timeout: 5000,\r\n      critical: true\r\n    },\r\n    {\r\n      name: 'vector-store',\r\n      check: async () => {\r\n        const result = await vectorStore.healthCheck();\r\n        return { status: result.status, indexCount: result.indexCount };\r\n      },\r\n      timeout: 3000,\r\n      critical: true\r\n    },\r\n    {\r\n      name: 'openai-api',\r\n      check: async () => {\r\n        const result = await openaiClient.healthCheck();\r\n        return { status: 'healthy', quotaRemaining: result.quota };\r\n      },\r\n      timeout: 10000,\r\n      critical: false\r\n    }\r\n  ]\r\n});\r\n\r\n// Express health endpoints\r\napp.get('/health', async (req, res) => {\r\n  const health = await healthChecker.check();\r\n  res.status(health.status === 'healthy' ? 200 : 503).json(health);\r\n});\r\n\r\napp.get('/ready', async (req, res) => {\r\n  const readiness = await healthChecker.checkReadiness();\r\n  res.status(readiness.ready ? 200 : 503).json(readiness);\r\n});\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.em,{children:["This comprehensive observability framework ensures your RAG pipeline operates reliably in production with full visibility into performance, errors, and business metrics. Continue to ",(0,i.jsx)(e.a,{href:"/rag-pipeline-utils/docs/Security",children:"Security"})," for information about securing your deployment."]})})]})}function g(r={}){const{wrapper:e}={...(0,s.R)(),...r.components};return e?(0,i.jsx)(e,{...r,children:(0,i.jsx)(d,{...r})}):d(r)}},8453:(r,e,n)=>{n.d(e,{R:()=>a,x:()=>o});var t=n(6540);const i={},s=t.createContext(i);function a(r){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof r?r(e):{...e,...r}}),[e,r])}function o(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(i):r.components||i:a(r.components),t.createElement(s.Provider,{value:e},r.children)}}}]);