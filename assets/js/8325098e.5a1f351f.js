"use strict";(self.webpackChunk_devilsdev_rag_pipeline_utils_docs=self.webpackChunk_devilsdev_rag_pipeline_utils_docs||[]).push([[7851],{4209:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Plugins","title":"Plugin Development Guide","description":"The @DevilsDev/rag-pipeline-utils toolkit is built on a fully modular plugin architecture that enables seamless extension and customization. This comprehensive guide covers plugin development, architecture patterns, contracts, and best practices for building production-ready plugins.","source":"@site/docs/Plugins.md","sourceDirName":".","slug":"/Plugins","permalink":"/rag-pipeline-utils/docs/Plugins","draft":false,"unlisted":false,"editUrl":"https://github.com/DevilsDev/rag-pipeline-utils/edit/develop/docs-site/docs/Plugins.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"CLI Reference","permalink":"/rag-pipeline-utils/docs/CLI"},"next":{"title":"Enterprise Features","permalink":"/rag-pipeline-utils/docs/Enterprise"}}');var i=r(4848),s=r(8453);const a={},o="Plugin Development Guide",l={},c=[{value:"\ud83c\udfd7\ufe0f <strong>Plugin Architecture Overview</strong>",id:"\ufe0f-plugin-architecture-overview",level:2},{value:"<strong>Core Plugin Types</strong>",id:"core-plugin-types",level:3},{value:"\ud83d\udccb <strong>Plugin Contracts &amp; Interfaces</strong>",id:"-plugin-contracts--interfaces",level:2},{value:"<strong>1. Loader Plugin Contract</strong>",id:"1-loader-plugin-contract",level:3},{value:"<strong>2. Embedder Plugin Contract</strong>",id:"2-embedder-plugin-contract",level:3},{value:"<strong>3. Retriever Plugin Contract</strong>",id:"3-retriever-plugin-contract",level:3},{value:"<strong>4. LLM Plugin Contract</strong>",id:"4-llm-plugin-contract",level:3},{value:"\ud83d\udd27 <strong>Plugin Registration &amp; Management</strong>",id:"-plugin-registration--management",level:2},{value:"<strong>Dynamic Plugin Loading</strong>",id:"dynamic-plugin-loading",level:3},{value:"<strong>Plugin Metadata &amp; Validation</strong>",id:"plugin-metadata--validation",level:3},{value:"\ud83d\ude80 <strong>CLI Plugin Development Tools</strong>",id:"-cli-plugin-development-tools",level:2},{value:"<strong>Plugin Scaffolding</strong>",id:"plugin-scaffolding",level:3},{value:"<strong>Plugin Testing &amp; Validation</strong>",id:"plugin-testing--validation",level:3},{value:"<strong>Plugin Publishing</strong>",id:"plugin-publishing",level:3},{value:"\u2699\ufe0f <strong>Configuration &amp; Runtime</strong>",id:"\ufe0f-configuration--runtime",level:2},{value:"<strong>Plugin Configuration in .ragrc.json</strong>",id:"plugin-configuration-in-ragrcjson",level:3},{value:"<strong>Environment-Specific Overrides</strong>",id:"environment-specific-overrides",level:3},{value:"\ud83c\udfaf <strong>Best Practices</strong>",id:"-best-practices",level:2},{value:"<strong>1. Error Handling</strong>",id:"1-error-handling",level:3},{value:"<strong>2. Performance Optimization</strong>",id:"2-performance-optimization",level:3},{value:"<strong>3. Testing &amp; Quality Assurance</strong>",id:"3-testing--quality-assurance",level:3}];function d(n){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"plugin-development-guide",children:"Plugin Development Guide"})}),"\n",(0,i.jsxs)(e.p,{children:["The ",(0,i.jsx)(e.strong,{children:"@DevilsDev/rag-pipeline-utils"})," toolkit is built on a fully modular plugin architecture that enables seamless extension and customization. This comprehensive guide covers plugin development, architecture patterns, contracts, and best practices for building production-ready plugins."]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"\ufe0f-plugin-architecture-overview",children:["\ud83c\udfd7\ufe0f ",(0,i.jsx)(e.strong,{children:"Plugin Architecture Overview"})]}),"\n",(0,i.jsx)(e.p,{children:"The plugin system follows SOLID principles with a registry-based architecture that supports:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type Safety"}),": Strict TypeScript interfaces for all plugin contracts"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Runtime Validation"}),": Contract enforcement at registration and execution"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Hot Swapping"}),": Dynamic plugin loading and replacement"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Dependency Injection"}),": Clean separation of concerns"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Extensibility"}),": Support for custom plugin types and middleware"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"core-plugin-types",children:(0,i.jsx)(e.strong,{children:"Core Plugin Types"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { PluginRegistry } from '@DevilsDev/rag-pipeline-utils';\r\n\r\nconst registry = new PluginRegistry();\r\n\r\n// Register plugins by type\r\nregistry.register('loader', 'my-custom-loader', new MyLoader());\r\nregistry.register('embedder', 'my-embedder', new MyEmbedder());\r\nregistry.register('retriever', 'my-retriever', new MyRetriever());\r\nregistry.register('llm', 'my-llm', new MyLLM());\r\nregistry.register('reranker', 'my-reranker', new MyReranker());\r\n\r\n// Retrieve and use plugins\r\nconst loader = registry.get('loader', 'my-custom-loader');\r\nconst result = await loader.load('./document.pdf');\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Supported Plugin Types"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"loader"})}),": Document ingestion and parsing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"embedder"})}),": Text-to-vector embedding generation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"retriever"})}),": Vector similarity search and retrieval"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"llm"})}),": Language model inference and generation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"reranker"})}),": Context reordering and relevance scoring"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"-plugin-contracts--interfaces",children:["\ud83d\udccb ",(0,i.jsx)(e.strong,{children:"Plugin Contracts & Interfaces"})]}),"\n",(0,i.jsx)(e.h3,{id:"1-loader-plugin-contract",children:(0,i.jsx)(e.strong,{children:"1. Loader Plugin Contract"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"interface LoaderPlugin {\r\n  name: string;\r\n  version: string;\r\n  supportedFormats: string[];\r\n  \r\n  load(filePath: string, options?: LoaderOptions): Promise<Document[]>;\r\n  loadBatch(filePaths: string[], options?: LoaderOptions): Promise<Document[]>;\r\n  validate(filePath: string): Promise<boolean>;\r\n}\r\n\r\ninterface Document {\r\n  id: string;\r\n  content: string;\r\n  metadata: Record<string, any>;\r\n  chunks?: TextChunk[];\r\n}\r\n\r\ninterface TextChunk {\r\n  id: string;\r\n  content: string;\r\n  startIndex: number;\r\n  endIndex: number;\r\n  metadata: Record<string, any>;\r\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Example Implementation"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { BaseLoader } from '@DevilsDev/rag-pipeline-utils';\r\nimport fs from 'fs/promises';\r\nimport path from 'path';\r\n\r\nclass CustomMarkdownLoader extends BaseLoader {\r\n  constructor() {\r\n    super();\r\n    this.name = 'custom-markdown';\r\n    this.version = '1.0.0';\r\n    this.supportedFormats = ['.md', '.markdown', '.txt'];\r\n  }\r\n\r\n  async load(filePath, options = {}) {\r\n    const content = await fs.readFile(filePath, 'utf-8');\r\n    const metadata = {\r\n      filename: path.basename(filePath),\r\n      size: content.length,\r\n      lastModified: (await fs.stat(filePath)).mtime\r\n    };\r\n\r\n    const chunks = this.chunkText(content, {\r\n      chunkSize: options.chunkSize || 1000,\r\n      overlap: options.overlap || 200\r\n    });\r\n\r\n    return [{\r\n      id: this.generateId(filePath),\r\n      content,\r\n      metadata,\r\n      chunks\r\n    }];\r\n  }\r\n\r\n  async validate(filePath) {\r\n    const ext = path.extname(filePath).toLowerCase();\r\n    return this.supportedFormats.includes(ext);\r\n  }\r\n\r\n  chunkText(text, options) {\r\n    // Custom chunking logic\r\n    const chunks = [];\r\n    const sentences = text.split(/[.!?]+/);\r\n    let currentChunk = '';\r\n    let chunkIndex = 0;\r\n\r\n    for (const sentence of sentences) {\r\n      if (currentChunk.length + sentence.length > options.chunkSize) {\r\n        if (currentChunk) {\r\n          chunks.push({\r\n            id: `chunk-${chunkIndex++}`,\r\n            content: currentChunk.trim(),\r\n            startIndex: text.indexOf(currentChunk),\r\n            endIndex: text.indexOf(currentChunk) + currentChunk.length,\r\n            metadata: { chunkIndex, wordCount: currentChunk.split(' ').length }\r\n          });\r\n        }\r\n        currentChunk = sentence;\r\n      } else {\r\n        currentChunk += sentence;\r\n      }\r\n    }\r\n\r\n    if (currentChunk) {\r\n      chunks.push({\r\n        id: `chunk-${chunkIndex}`,\r\n        content: currentChunk.trim(),\r\n        startIndex: text.lastIndexOf(currentChunk),\r\n        endIndex: text.lastIndexOf(currentChunk) + currentChunk.length,\r\n        metadata: { chunkIndex, wordCount: currentChunk.split(' ').length }\r\n      });\r\n    }\r\n\r\n    return chunks;\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-embedder-plugin-contract",children:(0,i.jsx)(e.strong,{children:"2. Embedder Plugin Contract"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"interface EmbedderPlugin {\r\n  name: string;\r\n  version: string;\r\n  dimensions: number;\r\n  maxTokens: number;\r\n  \r\n  embed(text: string, options?: EmbedderOptions): Promise<number[]>;\r\n  embedBatch(texts: string[], options?: EmbedderOptions): Promise<number[][]>;\r\n  getTokenCount(text: string): number;\r\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Example Implementation"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { BaseEmbedder } from '@DevilsDev/rag-pipeline-utils';\r\nimport OpenAI from 'openai';\r\n\r\nclass CustomOpenAIEmbedder extends BaseEmbedder {\r\n  constructor(apiKey, options = {}) {\r\n    super();\r\n    this.name = 'custom-openai';\r\n    this.version = '1.0.0';\r\n    this.dimensions = 1536;\r\n    this.maxTokens = 8191;\r\n    this.client = new OpenAI({ apiKey });\r\n    this.model = options.model || 'text-embedding-ada-002';\r\n  }\r\n\r\n  async embed(text, options = {}) {\r\n    try {\r\n      const response = await this.client.embeddings.create({\r\n        model: this.model,\r\n        input: text,\r\n        encoding_format: 'float'\r\n      });\r\n      \r\n      return response.data[0].embedding;\r\n    } catch (error) {\r\n      throw new Error(`Embedding failed: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  async embedBatch(texts, options = {}) {\r\n    const batchSize = options.batchSize || 100;\r\n    const results = [];\r\n    \r\n    for (let i = 0; i < texts.length; i += batchSize) {\r\n      const batch = texts.slice(i, i + batchSize);\r\n      const response = await this.client.embeddings.create({\r\n        model: this.model,\r\n        input: batch,\r\n        encoding_format: 'float'\r\n      });\r\n      \r\n      results.push(...response.data.map(item => item.embedding));\r\n    }\r\n    \r\n    return results;\r\n  }\r\n\r\n  getTokenCount(text) {\r\n    // Approximate token count (actual implementation would use tiktoken)\r\n    return Math.ceil(text.length / 4);\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3-retriever-plugin-contract",children:(0,i.jsx)(e.strong,{children:"3. Retriever Plugin Contract"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"interface RetrieverPlugin {\r\n  name: string;\r\n  version: string;\r\n  \r\n  retrieve(query: string, options?: RetrievalOptions): Promise<RetrievalResult[]>;\r\n  index(documents: Document[], options?: IndexOptions): Promise<void>;\r\n  delete(documentIds: string[]): Promise<void>;\r\n  getStats(): Promise<RetrievalStats>;\r\n}\r\n\r\ninterface RetrievalResult {\r\n  id: string;\r\n  content: string;\r\n  score: number;\r\n  metadata: Record<string, any>;\r\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"4-llm-plugin-contract",children:(0,i.jsx)(e.strong,{children:"4. LLM Plugin Contract"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"interface LLMPlugin {\r\n  name: string;\r\n  version: string;\r\n  maxTokens: number;\r\n  \r\n  generate(prompt: string, options?: GenerationOptions): Promise<string>;\r\n  generateStream(prompt: string, options?: GenerationOptions): AsyncIterableIterator<string>;\r\n  getTokenCount(text: string): number;\r\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Example Implementation"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { BaseLLM } from '@DevilsDev/rag-pipeline-utils';\r\nimport OpenAI from 'openai';\r\n\r\nclass CustomOpenAILLM extends BaseLLM {\r\n  constructor(apiKey, options = {}) {\r\n    super();\r\n    this.name = 'custom-openai-llm';\r\n    this.version = '1.0.0';\r\n    this.maxTokens = 4096;\r\n    this.client = new OpenAI({ apiKey });\r\n    this.model = options.model || 'gpt-3.5-turbo';\r\n  }\r\n\r\n  async generate(prompt, options = {}) {\r\n    const response = await this.client.chat.completions.create({\r\n      model: this.model,\r\n      messages: [{ role: 'user', content: prompt }],\r\n      max_tokens: options.maxTokens || 1000,\r\n      temperature: options.temperature || 0.7,\r\n      top_p: options.topP || 1.0\r\n    });\r\n    \r\n    return response.choices[0].message.content;\r\n  }\r\n\r\n  async* generateStream(prompt, options = {}) {\r\n    const stream = await this.client.chat.completions.create({\r\n      model: this.model,\r\n      messages: [{ role: 'user', content: prompt }],\r\n      max_tokens: options.maxTokens || 1000,\r\n      temperature: options.temperature || 0.7,\r\n      stream: true\r\n    });\r\n\r\n    for await (const chunk of stream) {\r\n      const content = chunk.choices[0]?.delta?.content;\r\n      if (content) {\r\n        yield content;\r\n      }\r\n    }\r\n  }\r\n\r\n  getTokenCount(text) {\r\n    // Approximate token count\r\n    return Math.ceil(text.length / 4);\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"-plugin-registration--management",children:["\ud83d\udd27 ",(0,i.jsx)(e.strong,{children:"Plugin Registration & Management"})]}),"\n",(0,i.jsx)(e.h3,{id:"dynamic-plugin-loading",children:(0,i.jsx)(e.strong,{children:"Dynamic Plugin Loading"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"import { PluginManager } from '@DevilsDev/rag-pipeline-utils';\r\n\r\nconst pluginManager = new PluginManager();\r\n\r\n// Load plugin from file\r\nawait pluginManager.loadPlugin('./plugins/my-custom-loader.js');\r\n\r\n// Load plugin from npm package\r\nawait pluginManager.loadPlugin('@company/rag-plugin-suite');\r\n\r\n// Load plugin from URL\r\nawait pluginManager.loadPlugin('https://github.com/user/plugin.git');\r\n\r\n// Register plugin instance directly\r\npluginManager.register('loader', 'my-loader', new MyCustomLoader());\r\n\r\n// List available plugins\r\nconst plugins = pluginManager.listPlugins();\r\nconsole.log('Available plugins:', plugins);\n"})}),"\n",(0,i.jsx)(e.h3,{id:"plugin-metadata--validation",children:(0,i.jsx)(e.strong,{children:"Plugin Metadata & Validation"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// Plugin metadata export\r\nexport const metadata = {\r\n  name: 'custom-pdf-loader',\r\n  version: '2.1.0',\r\n  description: 'Advanced PDF loader with OCR support',\r\n  author: 'Your Name <email@example.com>',\r\n  license: 'MIT',\r\n  keywords: ['pdf', 'ocr', 'loader'],\r\n  dependencies: {\r\n    'pdf-parse': '^1.1.1',\r\n    'tesseract.js': '^4.0.0'\r\n  },\r\n  config: {\r\n    ocrEnabled: { type: 'boolean', default: false },\r\n    language: { type: 'string', default: 'eng' },\r\n    quality: { type: 'number', min: 1, max: 5, default: 3 }\r\n  }\r\n};\r\n\r\n// Plugin validation\r\nimport { validatePlugin } from '@DevilsDev/rag-pipeline-utils';\r\n\r\nconst validation = await validatePlugin(MyCustomLoader, {\r\n  strictMode: true,\r\n  checkDependencies: true,\r\n  validateContract: true\r\n});\r\n\r\nif (!validation.isValid) {\r\n  console.error('Plugin validation failed:', validation.errors);\r\n}\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"-cli-plugin-development-tools",children:["\ud83d\ude80 ",(0,i.jsx)(e.strong,{children:"CLI Plugin Development Tools"})]}),"\n",(0,i.jsx)(e.h3,{id:"plugin-scaffolding",children:(0,i.jsx)(e.strong,{children:"Plugin Scaffolding"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Create new plugin\r\nrag-pipeline plugins create my-loader --type loader\r\nrag-pipeline plugins create my-embedder --type embedder --template typescript\r\n\r\n# Plugin templates available:\r\n# - javascript (default)\r\n# - typescript\r\n# - minimal\r\n# - advanced\n"})}),"\n",(0,i.jsx)(e.h3,{id:"plugin-testing--validation",children:(0,i.jsx)(e.strong,{children:"Plugin Testing & Validation"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Validate plugin\r\nrag-pipeline plugins validate ./my-plugin\r\nrag-pipeline plugins validate ./my-plugin --strict\r\n\r\n# Test plugin\r\nrag-pipeline plugins test ./my-plugin --test-data ./test-cases.json\r\n\r\n# Benchmark plugin\r\nrag-pipeline plugins benchmark ./my-plugin --iterations 1000\n"})}),"\n",(0,i.jsx)(e.h3,{id:"plugin-publishing",children:(0,i.jsx)(e.strong,{children:"Plugin Publishing"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Package plugin\r\nrag-pipeline plugins package ./my-plugin --output my-plugin-v1.0.0.tgz\r\n\r\n# Publish to npm\r\nrag-pipeline plugins publish ./my-plugin --registry npm\r\n\r\n# Publish to private registry\r\nrag-pipeline plugins publish ./my-plugin --registry https://my-registry.com\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"\ufe0f-configuration--runtime",children:["\u2699\ufe0f ",(0,i.jsx)(e.strong,{children:"Configuration & Runtime"})]}),"\n",(0,i.jsx)(e.h3,{id:"plugin-configuration-in-ragrcjson",children:(0,i.jsx)(e.strong,{children:"Plugin Configuration in .ragrc.json"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\r\n  "plugins": {\r\n    "loader": {\r\n      "name": "custom-pdf-loader",\r\n      "version": "^2.1.0",\r\n      "config": {\r\n        "ocrEnabled": true,\r\n        "language": "eng",\r\n        "quality": 4\r\n      }\r\n    },\r\n    "embedder": {\r\n      "name": "custom-openai",\r\n      "config": {\r\n        "model": "text-embedding-ada-002",\r\n        "batchSize": 100\r\n      }\r\n    },\r\n    "retriever": {\r\n      "name": "pinecone",\r\n      "config": {\r\n        "environment": "us-west1-gcp",\r\n        "indexName": "my-index"\r\n      }\r\n    },\r\n    "llm": {\r\n      "name": "openai-gpt-4",\r\n      "config": {\r\n        "temperature": 0.7,\r\n        "maxTokens": 2000\r\n      }\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"environment-specific-overrides",children:(0,i.jsx)(e.strong,{children:"Environment-Specific Overrides"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// Development environment\r\nprocess.env.NODE_ENV = 'development';\r\nconst devConfig = {\r\n  plugins: {\r\n    llm: {\r\n      name: 'mock-llm', // Use mock for testing\r\n      config: { responses: ['Test response'] }\r\n    }\r\n  }\r\n};\r\n\r\n// Production environment\r\nprocess.env.NODE_ENV = 'production';\r\nconst prodConfig = {\r\n  plugins: {\r\n    llm: {\r\n      name: 'openai-gpt-4',\r\n      config: {\r\n        temperature: 0.3, // Lower temperature for consistency\r\n        maxTokens: 1500\r\n      }\r\n    }\r\n  }\r\n};\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"-best-practices",children:["\ud83c\udfaf ",(0,i.jsx)(e.strong,{children:"Best Practices"})]}),"\n",(0,i.jsx)(e.h3,{id:"1-error-handling",children:(0,i.jsx)(e.strong,{children:"1. Error Handling"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"class RobustPlugin extends BaseLoader {\r\n  async load(filePath, options = {}) {\r\n    try {\r\n      // Validate inputs\r\n      if (!filePath || typeof filePath !== 'string') {\r\n        throw new Error('Invalid file path provided');\r\n      }\r\n\r\n      // Check file existence\r\n      if (!await this.fileExists(filePath)) {\r\n        throw new Error(`File not found: ${filePath}`);\r\n      }\r\n\r\n      // Implement retry logic\r\n      return await this.withRetry(() => this.processFile(filePath), {\r\n        maxRetries: 3,\r\n        backoff: 'exponential'\r\n      });\r\n    } catch (error) {\r\n      // Log error with context\r\n      this.logger.error('Load operation failed', {\r\n        filePath,\r\n        error: error.message,\r\n        stack: error.stack\r\n      });\r\n      \r\n      // Re-throw with enhanced context\r\n      throw new Error(`Failed to load ${filePath}: ${error.message}`);\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-performance-optimization",children:(0,i.jsx)(e.strong,{children:"2. Performance Optimization"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"class OptimizedEmbedder extends BaseEmbedder {\r\n  constructor(options = {}) {\r\n    super();\r\n    this.cache = new LRUCache({ max: 1000 });\r\n    this.batchSize = options.batchSize || 50;\r\n    this.concurrency = options.concurrency || 3;\r\n  }\r\n\r\n  async embedBatch(texts, options = {}) {\r\n    // Check cache first\r\n    const uncachedTexts = texts.filter(text => !this.cache.has(text));\r\n    \r\n    if (uncachedTexts.length === 0) {\r\n      return texts.map(text => this.cache.get(text));\r\n    }\r\n\r\n    // Process in parallel batches\r\n    const batches = this.createBatches(uncachedTexts, this.batchSize);\r\n    const results = await Promise.allSettled(\r\n      batches.map(batch => this.processBatch(batch))\r\n    );\r\n\r\n    // Cache results\r\n    results.forEach((result, index) => {\r\n      if (result.status === 'fulfilled') {\r\n        result.value.forEach((embedding, i) => {\r\n          this.cache.set(uncachedTexts[index * this.batchSize + i], embedding);\r\n        });\r\n      }\r\n    });\r\n\r\n    return texts.map(text => this.cache.get(text));\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3-testing--quality-assurance",children:(0,i.jsx)(e.strong,{children:"3. Testing & Quality Assurance"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// Plugin test suite\r\nimport { PluginTester } from '@DevilsDev/rag-pipeline-utils';\r\n\r\nconst tester = new PluginTester(MyCustomLoader);\r\n\r\n// Contract compliance tests\r\nawait tester.testContract();\r\n\r\n// Performance benchmarks\r\nconst benchmarks = await tester.benchmark({\r\n  testData: './test-documents/',\r\n  iterations: 100,\r\n  metrics: ['latency', 'throughput', 'memory']\r\n});\r\n\r\n// Integration tests\r\nawait tester.testIntegration({\r\n  pipeline: myRagPipeline,\r\n  testCases: './integration-tests.json'\r\n});\r\n\r\n// Generate test report\r\nconst report = tester.generateReport();\r\nconsole.log('Plugin test results:', report);\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.em,{children:["This comprehensive plugin development guide enables you to build production-ready extensions for @DevilsDev/rag-pipeline-utils. For usage examples, see the ",(0,i.jsx)(e.a,{href:"/rag-pipeline-utils/docs/Usage",children:"Usage Guide"}),", or explore ",(0,i.jsx)(e.a,{href:"/rag-pipeline-utils/docs/CLI",children:"CLI Reference"})," for plugin management commands."]})})]})}function g(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>o});var t=r(6540);const i={},s=t.createContext(i);function a(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);